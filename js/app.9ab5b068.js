(function(e){function t(t){for(var a,o,c=t[0],i=t[1],s=t[2],p=0,f=[];p<c.length;p++)o=c[p],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);u&&u(t);while(f.length)f.shift()();return l.push.apply(l,s||[]),r()}function r(){for(var e,t=0;t<l.length;t++){for(var r=l[t],a=!0,c=1;c<r.length;c++){var i=r[c];0!==n[i]&&(a=!1)}a&&(l.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},l=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=i;l.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"034f":function(e,t,r){"use strict";var a=r("85ec"),n=r.n(a);n.a},"54ff":function(e,t,r){},"708b":function(e,t,r){},"85ec":function(e,t,r){},"879e":function(e,t,r){"use strict";var a=r("54ff"),n=r.n(a);n.a},cd49:function(e,t,r){"use strict";r.r(t);r("45fc"),r("b0c0"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},l=[],o=r("d4ec"),c=r("262e"),i=r("2caf"),s=r("9ab4"),u=r("60a3"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"form"},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[r("el-row",{staticClass:"row-bg",attrs:{gutter:20,type:"flex",justify:"space-between"}},[r("el-col",[r("el-card",{staticClass:"name-card"},[r("el-form-item",{attrs:{"label-width":"0",inline:"true",prop:"callSign"}},[r("el-input",{attrs:{placeholder:"callSign"},model:{value:e.ruleForm.callSign,callback:function(t){e.$set(e.ruleForm,"callSign",t)},expression:"ruleForm.callSign"}})],1)],1)],1),r("el-col",[r("el-card",{staticClass:"name-card"},[r("el-form-item",{attrs:{"label-width":"0",inline:"true",prop:"battleTag"}},[r("el-input",{attrs:{placeholder:"battle#tag"},model:{value:e.ruleForm.battleTag,callback:function(t){e.$set(e.ruleForm,"battleTag",t)},expression:"ruleForm.battleTag"}})],1)],1)],1)],1)],1),r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[r("el-row",{staticClass:"row-bg",attrs:{gutter:20,type:"flex",justify:"space-between"}},[r("el-col",[r("div",{staticClass:"grid-content bg-purple"},[r("el-card",{staticClass:"box-card",class:{active:e.ruleForm.canPlay.tank}},[r("svg",{staticClass:"icon",attrs:{viewBox:"0 0 32 32",role:"presentation"},on:{click:function(t){e.ruleForm.canPlay.tank=!e.ruleForm.canPlay.tank}}},[r("title",[e._v("Tank")]),r("path",{attrs:{d:"M29,10.7c0,2.1,0,4.1,0,6.2c0,0.6-0.1,1.1-0.4,1.6c-2.9,5.3-6.8,9.7-11.8,13.2c-0.6,0.4-1,0.4-1.6,0\n                    c-4.9-3.4-8.8-7.8-11.7-13c-0.3-0.6-0.4-1.2-0.4-1.8c0-3.9,0.1-7.8,0-11.7C3,2.3,5.2,1.9,7.1,1.4C10.4,0.6,13.3,0,16.6,0\n                    c3.1,0,7.7,1.1,9.4,1.6c1.3,0.4,2.7,0.9,2.9,2.2C29,4.9,28.9,6,29,7.1C29,8.3,29,9.5,29,10.7C29,10.7,29,10.7,29,10.7z"}})]),r("el-form-item",{attrs:{"label-width":"0",inline:"true",prop:"SR.tank"}},[r("el-input-number",{staticClass:"rank-input",attrs:{size:"small",min:1,max:4e3},model:{value:e.ruleForm.SR.tank,callback:function(t){e.$set(e.ruleForm.SR,"tank",t)},expression:"ruleForm.SR.tank"}})],1),r("el-form-item",{attrs:{"inline-message":"true","label-width":"0",prop:"tank"}},[r("el-checkbox",{model:{value:e.ruleForm.canPlay.tank,callback:function(t){e.$set(e.ruleForm.canPlay,"tank",t)},expression:"ruleForm.canPlay.tank"}})],1)],1)],1)]),r("el-col",[r("div",{staticClass:"grid-content bg-purple-light"},[r("el-card",{staticClass:"box-card",class:{active:e.ruleForm.canPlay.damage}},[r("svg",{staticClass:"icon",attrs:{viewBox:"0 0 32 32",role:"presentation"},on:{click:function(t){e.ruleForm.canPlay.damage=!e.ruleForm.canPlay.damage}}},[r("title",[e._v("Damage")]),r("g",[r("rect",{attrs:{x:"2.1",y:"28.1",width:"7.1",height:"3.9"}}),r("path",{attrs:{d:"M9.1,7c0,0,0-0.5,0-0.7C8.6,1.5,5.6,0,5.6,0s-3,1.5-3.5,6.3c0,0.2,0,0.7,0,0.7v18.4h3.5h3.5V7z"}})]),r("g",[r("rect",{attrs:{x:"12.5",y:"28.1",width:"7.1",height:"3.9"}}),r("path",{attrs:{d:"M19.5,7c0,0,0-0.5,0-0.7C19,1.5,16,0,16,0s-3,1.5-3.5,6.3c0,0.2,0,0.7,0,0.7v18.4H16h3.5V7z"}})]),r("g",[r("rect",{attrs:{x:"22.9",y:"28.1",width:"7.1",height:"3.9"}}),r("path",{attrs:{d:"M29.9,7c0,0,0-0.5,0-0.7C29.4,1.5,26.4,0,26.4,0s-3,1.5-3.5,6.3c0,0.2,0,0.7,0,0.7v18.4h3.5h3.5V7z"}})])]),r("el-form-item",{attrs:{"label-width":"0",inline:"true",prop:"SR.damage"}},[r("el-input-number",{staticClass:"rank-input",attrs:{size:"small",min:1,max:5e3},model:{value:e.ruleForm.SR.damage,callback:function(t){e.$set(e.ruleForm.SR,"damage",t)},expression:"ruleForm.SR.damage"}})],1),r("el-form-item",{attrs:{"inline-message":"true","label-width":"0",prop:"damage"}},[r("el-checkbox",{model:{value:e.ruleForm.canPlay.damage,callback:function(t){e.$set(e.ruleForm.canPlay,"damage",t)},expression:"ruleForm.canPlay.damage"}})],1)],1)],1)]),r("el-col",[r("div",{staticClass:"grid-content bg-purple"},[r("el-card",{staticClass:"box-card",class:{active:e.ruleForm.canPlay.support}},[r("svg",{staticClass:"icon",attrs:{viewBox:"0 0 32 32",role:"presentation"},on:{click:function(t){e.ruleForm.canPlay.support=!e.ruleForm.canPlay.support}}},[r("title",[e._v("Support")]),r("path",{attrs:{"fill-rule":"evenodd",d:"M29.3,10.2h-7.5V2.7c0-1.5-1.2-2.7-2.7-2.7h-6.3c-1.5,0-2.7,1.2-2.7,2.7v7.5H2.7\n\t\tc-1.5,0-2.7,1.2-2.7,2.7v6.3c0,1.5,1.2,2.7,2.7,2.7h7.5v7.5c0,1.5,1.2,2.7,2.7,2.7h6.3c1.5,0,2.7-1.2,2.7-2.7v-7.5h7.5\n\t\tc1.5,0,2.7-1.2,2.7-2.7v-6.3C32,11.4,30.8,10.2,29.3,10.2z"}})]),r("el-form-item",{attrs:{"label-width":"0",inline:"true",prop:"SR.support"}},[r("el-input-number",{staticClass:"rank-input",attrs:{size:"small",min:1,max:4e3},model:{value:e.ruleForm.SR.support,callback:function(t){e.$set(e.ruleForm.SR,"support",t)},expression:"ruleForm.SR.support"}})],1),r("el-form-item",{attrs:{"inline-message":"true","label-width":"0",prop:"support"}},[r("el-checkbox",{model:{value:e.ruleForm.canPlay.support,callback:function(t){e.$set(e.ruleForm.canPlay,"support",t)},expression:"ruleForm.canPlay.support"}})],1)],1)],1)])],1)],1),r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[r("el-card",{staticClass:"prefferedRole"},[r("el-form-item",{attrs:{"inline-message":"true",label:"","label-width":"auto",prop:"prefferedRole"}},[r("el-select",{attrs:{placeholder:" Select Preffered Role"},model:{value:e.ruleForm.prefferedRole,callback:function(t){e.$set(e.ruleForm,"prefferedRole",t)},expression:"ruleForm.prefferedRole"}},[r("el-option",{attrs:{label:"None",value:"none"}}),r("el-option",{attrs:{label:"Tank",value:"tank"}}),r("el-option",{attrs:{label:"Damage",value:"damage"}}),r("el-option",{attrs:{label:"Support",value:"support"}})],1)],1)],1)],1),r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[r("el-button",{staticClass:"ready-btn",attrs:{type:"warning"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Ready")])],1)],1)],1)},f=[],d=(r("caad"),r("d3b7"),r("2532"),r("96cf"),r("1da1")),m=r("bee2"),g=r("8aa5"),b=r.n(g),h=r("2398"),v={apiKey:"AIzaSyDhP-J14qHa7VK1XCqdBmfqvFNpOydBZqw",authDomain:"test-c10cb.firebaseapp.com",databaseURL:"https://test-c10cb.firebaseio.com",projectId:"test-c10cb",storageBucket:"test-c10cb.appspot.com",messagingSenderId:"418574315574",appId:"1:418574315574:web:cd9ca982bc4b706946a897",measurementId:"G-X41VWY8MG4"};b.a.initializeApp(v);var y=b.a.firestore(),k=b.a.auth();function w(){var e=new h["a"].AuthUI(k),t={signInSuccessUrl:"/form",signInOptions:[b.a.auth.EmailAuthProvider.PROVIDER_ID]};e.start("#firebaseui-auth-container",t)}var F=function(e){Object(c["a"])(r,e);var t=Object(i["a"])(r);function r(){var e;return Object(o["a"])(this,r),e=t.apply(this,arguments),e.fullscreenLoading=!0,e.checkSR=function(e,t){return new Promise((function(e,r){return console.log(t),t?isNaN(t)?r("rank must use numbers"):t<100||t>5e3?r("Invalid SR"):void e():r("Required")}))},e.checkBattleTag=function(e,t){return new Promise((function(e,r){return console.log(t),t?"string"!==typeof t?r("BattleTag must be string"):t.includes("#")?t.length<5?r("Invalid BattleTag"):void e():r("Invalid BattleTag"):r("Required")}))},e.checkRole=function(){return new Promise((function(t,r){if(!e.ruleForm.canPlay.tank&&!e.ruleForm.canPlay.damage&&!e.ruleForm.canPlay.support)return r("Please select at lest one role");t()}))},e.checkPreffered=function(t,r){return new Promise((function(t,a){switch(r){case"tank":return e.ruleForm.canPlay.tank?t():a("tank is not selected");case"damage":return e.ruleForm.canPlay.damage?t():a("damage is not selected");case"support":return e.ruleForm.canPlay.support?t():a("support is not selected");case"":return e.ruleForm.prefferedRole="none",t();default:t();break}t()}))},e.ruleForm={callSign:"",battleTag:"",SR:{tank:0,damage:0,support:0},canPlay:{tank:!1,damage:!1,support:!1},prefferedRole:""},e.rules={callSign:[{required:!0,message:"Please input callSign",trigger:"blur"},{min:3,max:12,message:"Length should be 3 to 12",trigger:"blur"}],battleTag:[{validator:e.checkBattleTag,trigger:"blur"}],"SR.tank":[{validator:e.checkSR,trigger:"blur"}],"SR.damage":[{validator:e.checkSR,trigger:"blur"}],"SR.support":[{validator:e.checkSR,trigger:"blur"}],tank:[{validator:e.checkRole,trigger:"blur"}],damage:[{validator:e.checkRole,trigger:"blur"}],support:[{validator:e.checkRole,trigger:"blur"}],prefferedRole:[{validator:e.checkPreffered,trigger:"blur"}]},e}return Object(m["a"])(r,[{key:"created",value:function(){var e=this;k.onAuthStateChanged(function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r&&(a=y.collection("players").doc(r.uid),a.get().then((function(t){if(t.exists){var r=t.data();r&&(e.ruleForm.callSign=r.callSign,e.ruleForm.battleTag=r.battleTag,e.ruleForm.SR=r.SR,e.ruleForm.prefferedRole=r.prefferedRole,e.fullscreenLoading=!1)}else e.fullscreenLoading=!1})).catch((function(t){e.alart(t,"Error","close",!1)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"alart",value:function(e,t,r,a){this.$alert(e,t,{confirmButtonText:r,showClose:!1,showConfirmButton:a})}},{key:"submitForm",value:function(e){var t=this;this.$refs[e].validate((function(e){e&&k.onAuthStateChanged(function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.fullscreenLoading=!0,!r){e.next=13;break}return e.prev=2,e.next=5,y.collection("players").doc(r.uid).set(t.ruleForm);case 5:t.fullscreenLoading=!1,t.alart("We got you, you can now close this page","Thank You !","Update again",!0),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),t.fullscreenLoading=!1,t.alart(e.t0,"Error","Retry",!0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}())}))}}]),r}(u["c"]);Object(s["__decorate"])([Object(u["b"])()],F.prototype,"msg",void 0),F=Object(s["__decorate"])([u["a"]],F);var R=F,x=R,S=(r("879e"),r("2877")),P=Object(S["a"])(x,p,f,!1,null,"4197cc76",null),C=P.exports,j=function(e){Object(c["a"])(r,e);var t=Object(i["a"])(r);function r(){return Object(o["a"])(this,r),t.apply(this,arguments)}return r}(u["c"]);j=Object(s["__decorate"])([Object(u["a"])({components:{RankForm:C}})],j);var O=j,_=O,T=(r("034f"),Object(S["a"])(_,n,l,!1,null,null,null)),$=T.exports,B=r("5c96"),I=r.n(B),L=(r("0fae"),r("8c4f")),z=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},M=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("section",{attrs:{id:"firebaseui-auth-container"}})])}],q=(r("c9b9"),function(e){Object(c["a"])(r,e);var t=Object(i["a"])(r);function r(){return Object(o["a"])(this,r),t.apply(this,arguments)}return Object(m["a"])(r,[{key:"mounted",value:function(){w()}}]),r}(u["c"]));q=Object(s["__decorate"])([u["a"]],q);var A=q,E=A,U=(r("ec9b"),Object(S["a"])(E,z,M,!1,null,"60ec907a",null)),V=U.exports;a["default"].config.productionTip=!1,a["default"].use(I.a),a["default"].use(L["a"]);var D=[{path:"/",name:"Login",component:V},{path:"/form",name:"Form",component:C,meta:{requiresAuth:!0}}],N=new L["a"]({mode:"history",routes:D});N.beforeEach((function(e,t,r){k.onAuthStateChanged((function(){a["default"].nextTick((function(){document.title="Rank Updater - "+e.name||!1}));var t=e.matched.some((function(e){return e.meta.requiresAuth}));k.currentUser&&"Login"===e.name?r("/form"):t&&!k.currentUser?r("/"):r()}))})),new a["default"]({router:N,render:function(e){return e($)}}).$mount("#app")},ec9b:function(e,t,r){"use strict";var a=r("708b"),n=r.n(a);n.a}});
//# sourceMappingURL=app.9ab5b068.js.map